### Домашнее задание к занятию "08.05 Тестирование Roles"

## Подготовка к выполнению

Установите molecule: pip3 install "molecule==3.4.0"

Соберите локальный образ на основе [Dockerfile](https://github.com/netology-code/mnt-homeworks/blob/MNT-7/08-ansible-05-testing/Dockerfile)

## Основная часть

Наша основная цель - настроить тестирование наших ролей. Задача: сделать сценарии тестирования для kibana, logstash. 
Ожидаемый результат: все сценарии успешно проходят тестирование ролей.

## Molecule

Запустите molecule test внутри корневой директории elasticsearch-role, посмотрите на вывод команды.

Перейдите в каталог с ролью kibana-role и создайте сценарий тестирования по умолчаню при помощи molecule init scenario --driver-name docker.

Добавьте несколько разных дистрибутивов (centos:8, ubuntu:latest) для инстансов и протестируйте роль, исправьте найденные ошибки, если они есть.

Добавьте несколько assert'ов в verify.yml файл, для проверки работоспособности kibana-role (проверка, что web отвечает, проверка логов, etc). Запустите тестирование роли 

повторно и проверьте, что оно прошло успешно.

Повторите шаги 2-4 для filebeat-role.

Добавьте новый тег на коммит с рабочим сценарием в соответствии с семантическим версионированием.

## Tox

Запустите docker run -it -v <path_to_repo>:/opt/elasticsearch-role -w /opt/elasticsearch-role /bin/bash, где path_to_repo - путь до корня репозитория с elasticsearch-role на 

вашей файловой системе.

Внутри контейнера выполните команду tox, посмотрите на вывод.

Добавьте файл tox.ini в корень репозитория каждой своей роли.

Создайте облегчённый сценарий для molecule. Проверьте его на исполнимость.

Пропишите правильную команду в tox.ini для того чтобы запускался облегчённый сценарий.

Запустите docker контейнер так, чтобы внутри оказались обе ваши роли.

Зайдти поочерёдно в каждую из них и запустите команду tox. Убедитесь, что всё отработало успешно.

Добавьте новый тег на коммит с рабочим сценарием в соответствии с семантическим версионированием.

После выполнения у вас должно получится два сценария molecule и один tox.ini файл в каждом репозитории. Ссылки на репозитории являются ответами на домашнее задание. Не забудьте 

указать в ответе теги решений Tox и Molecule заданий.
